"use strict";
var core_1 = require('@angular/core');
var ɵngcc0 = require('@angular/core');
var NgTableSortingDirective = (function () {
    function NgTableSortingDirective() {
        this.sortChanged = new core_1.EventEmitter();
    }
    Object.defineProperty(NgTableSortingDirective.prototype, "config", {
        get: function () {
            return this.ngTableSorting;
        },
        set: function (value) {
            this.ngTableSorting = value;
        },
        enumerable: true,
        configurable: true
    });
    NgTableSortingDirective.prototype.onToggleSort = function (event) {
        if (event) {
            event.preventDefault();
        }
        if (this.ngTableSorting && this.column && this.column.sort !== false) {
            switch (this.column.sort) {
                case 'asc':
                    this.column.sort = 'desc';
                    break;
                case 'desc':
                    this.column.sort = '';
                    break;
                default:
                    this.column.sort = 'asc';
                    break;
            }
            this.sortChanged.emit(this.column);
        }
    };
    /** @nocollapse */
    NgTableSortingDirective.ctorParameters = [];
    NgTableSortingDirective.propDecorators = {
        'ngTableSorting': [{ type: core_1.Input },],
        'column': [{ type: core_1.Input },],
        'sortChanged': [{ type: core_1.Output },],
        'config': [{ type: core_1.Input },],
        'onToggleSort': [{ type: core_1.HostListener, args: ['click', ['$event'],] },],
    };
NgTableSortingDirective.ɵfac = function NgTableSortingDirective_Factory(t) { return new (t || NgTableSortingDirective)(); };
NgTableSortingDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: NgTableSortingDirective, selectors: [["", "ngTableSorting", ""]], hostBindings: function NgTableSortingDirective_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("click", function NgTableSortingDirective_click_HostBindingHandler($event) { return ctx.onToggleSort($event); });
    } }, inputs: { config: "config", ngTableSorting: "ngTableSorting", column: "column" }, outputs: { sortChanged: "sortChanged" } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgTableSortingDirective, [{
        type: core_1.Directive,
        args: [{ selector: '[ngTableSorting]' }]
    }], function () { return []; }, { sortChanged: [{
            type: core_1.Output
        }], config: [{
            type: core_1.Input
        }], onToggleSort: [{
            type: core_1.HostListener,
            args: ['click', ['$event']]
        }], ngTableSorting: [{
            type: core_1.Input
        }], column: [{
            type: core_1.Input
        }] }); })();
    return NgTableSortingDirective;
}());
exports.NgTableSortingDirective = NgTableSortingDirective;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctdGFibGUtc29ydGluZy5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIm5nLXRhYmxlLXNvcnRpbmcuZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BR007QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQU07QUFDTjtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlKCkge1xuICAgICAgICB0aGlzLnNvcnRDaGFuZ2VkID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJjb25maWdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5nVGFibGVTb3J0aW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5uZ1RhYmxlU29ydGluZyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ1RhYmxlU29ydGluZ0RpcmVjdGl2ZS5wcm90b3R5cGUub25Ub2dnbGVTb3J0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZ1RhYmxlU29ydGluZyAmJiB0aGlzLmNvbHVtbiAmJiB0aGlzLmNvbHVtbi5zb3J0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNvbHVtbi5zb3J0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXNjJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW4uc29ydCA9ICdkZXNjJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVzYyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uLnNvcnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW4uc29ydCA9ICdhc2MnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc29ydENoYW5nZWQuZW1pdCh0aGlzLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdbbmdUYWJsZVNvcnRpbmddJyB9LF0gfSxcbiAgICBdO1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIE5nVGFibGVTb3J0aW5nRGlyZWN0aXZlLmN0b3JQYXJhbWV0ZXJzID0gW107XG4gICAgTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgICAgICduZ1RhYmxlU29ydGluZyc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgICAgICdjb2x1bW4nOiBbeyB0eXBlOiBjb3JlXzEuSW5wdXQgfSxdLFxuICAgICAgICAnc29ydENoYW5nZWQnOiBbeyB0eXBlOiBjb3JlXzEuT3V0cHV0IH0sXSxcbiAgICAgICAgJ2NvbmZpZyc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgICAgICdvblRvZ2dsZVNvcnQnOiBbeyB0eXBlOiBjb3JlXzEuSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2NsaWNrJywgWyckZXZlbnQnXSxdIH0sXSxcbiAgICB9O1xuICAgIHJldHVybiBOZ1RhYmxlU29ydGluZ0RpcmVjdGl2ZTtcbn0oKSk7XG5leHBvcnRzLk5nVGFibGVTb3J0aW5nRGlyZWN0aXZlID0gTmdUYWJsZVNvcnRpbmdEaXJlY3RpdmU7XG4iXX0=